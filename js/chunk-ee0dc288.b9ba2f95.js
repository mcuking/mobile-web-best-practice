(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee0dc288"],{"1cf5":function(e,t,o){var r=o("a778");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=o("499e").default;n("4833be44",r,!0,{sourceMap:!1,shadowMode:!1})},9417:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"layout__page"},[o("div",{staticClass:"layout__header"},[o("van-nav-bar",{attrs:{title:e.isEdit?"编辑任务集":"新建任务集","right-text":e.isEdit?"删除":"","left-arrow":""},on:{"click-left":e.handleClickLeft,"click-right":e.confirmDeleteNotebook}})],1),o("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.handleSwipeRight,expression:"handleSwipeRight",arg:"swipe"}],staticClass:"layout__body"},[o("van-cell-group",{staticClass:"notebook__create-form"},[o("van-field",{attrs:{label:"任务集名称",placeholder:"请输入任务集名称",maxlength:"15",required:""},model:{value:e.formModel.name,callback:function(t){e.$set(e.formModel,"name",t)},expression:"formModel.name"}}),o("van-cell",{attrs:{title:"任务集主题色",value:e.themeColorText,"is-link":""},on:{click:function(t){return e.setSelectThemeColorShow(!0)}}})],1),o("div",{staticClass:"bottom-button--submit",attrs:{id:"fixed-bottom"}},[o("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.handleCreateNotebook}},[e._v("提交")])],1)],1),o("van-popup",{attrs:{position:"bottom"},model:{value:e.selectThemeColorShow,callback:function(t){e.selectThemeColorShow=t},expression:"selectThemeColorShow"}},[o("van-picker",{attrs:{"show-toolbar":"",title:"选择主题色",columns:e.THEME_COLOR_ARRAY},on:{cancel:function(t){return e.setSelectThemeColorShow(!1)},confirm:e.handleSelectThemeColor}})],1)],1)},n=[],a=(o("2397"),o("7f7f"),o("96cf"),o("3b8d")),c=(o("47e2"),o("2241")),i=o("d225"),s=o("b0b4"),l=o("4e2b"),u=o("308d"),h=o("6bb5"),b=(o("da02"),o("6b41")),f=(o("c625"),o("b650")),d=(o("9eda"),o("565f")),m=(o("2a53"),o("34e9")),v=(o("3ec1"),o("7744")),p=(o("87d0"),o("e41f")),w=(o("3cd0"),o("25bb"),o("f8c2"),o("f253")),k=o("9ab4"),g=o("60a3"),y=o("75fb"),C=o("db18"),x=o("5339"),N=o("2255"),_={green:"绿色",blue:"蓝色",yellow:"黄色",red:"红色"},R=Object(N["g"])(_);function O(e){var t=S();return function(){var o,r=Object(h["a"])(e);if(t){var n=Object(h["a"])(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Object(u["a"])(this,o)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return window.$sentry.log({error:e,fileName:"/home/runner/work/mobile-web-best-practice/mobile-web-best-practice/src/views/notebook/create/index.vue",lineNo:void 0,scope:"_isNativeReflectConstruct()"}),!1}}g["d"].use(b["a"]).use(f["a"]).use(d["a"]).use(m["a"]).use(v["a"]).use(p["a"]).use(w["a"]);var T=function(e){Object(l["a"])(o,e);var t=O(o);function o(){var e;return Object(i["a"])(this,o),e=t.apply(this,arguments),e.THEME_COLOR_ARRAY=R,e.selectThemeColorShow=!1,e.formModel={name:"",themeColor:"green",notes:[]},e.rules={name:[{required:!0,message:"请填写任务集名称"}]},e}return Object(s["a"])(o,[{key:"id",get:function(){if("string"===typeof this.$route.query.id)return parseInt(this.$route.query.id,10)}},{key:"isEdit",get:function(){return!!this.id}},{key:"themeColorText",get:function(){return _[this.formModel.themeColor]}},{key:"handleClickLeft",value:function(){this.$router.go(-1)}},{key:"setSelectThemeColorShow",value:function(e){this.selectThemeColorShow=e}},{key:"handleSelectThemeColor",value:function(e){this.setSelectThemeColorShow(!1),this.formModel.themeColor=e.value}},{key:"confirmDeleteNotebook",value:function(){var e=this;c["a"].alert({title:"删除确认",message:"是否删除该任务集?"}).then((function(){e.handleDeleteNotebook(e.id)}))}},{key:"handleDeleteNotebook",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x["c"].deleteNotebook(t);case 3:this.$bus.emit("notebook-change"),this.$router.go(-1),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),window.$sentry.log({error:e.t0,fileName:"/home/runner/work/mobile-web-best-practice/mobile-web-best-practice/src/views/notebook/create/index.vue",lineNo:60,scope:"NotebookCreate -> value -> _handleDeleteNotebook"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleCreateNotebook",value:function(){var e=this;this.validator.validate().then(Object(a["a"])(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,o=e.formModel,r=e.id,t.next=4,x["c"].saveNotebook(o,r);case 4:e.$bus.emit("notebook-change"),e.$router.go(-1),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),window.$sentry.log({error:t.t0,fileName:"/home/runner/work/mobile-web-best-practice/mobile-web-best-practice/src/views/notebook/create/index.vue",lineNo:73,scope:"NotebookCreate -> value"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).catch((function(t){e.$toast(t[0].message)}))}},{key:"created",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isEdit){e.next=12;break}return e.prev=1,e.next=4,x["c"].getNotebook(this.id);case 4:t=e.sent,t&&(this.formModel={name:t.name,themeColor:t.themeColor,notes:t.notes}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),window.$sentry.log({error:e.t0,fileName:"/home/runner/work/mobile-web-best-practice/mobile-web-best-practice/src/views/notebook/create/index.vue",lineNo:89,scope:"NotebookCreate -> value -> _created"}),console.log(e.t0);case 12:this.validator=new y["a"]({rules:this.rules,data:this.formModel});case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()}]),o}(Object(g["b"])(C["a"]));T=Object(k["b"])([Object(g["a"])({components:{}})],T);var j=T,M=j,$=(o("c382"),o("2877")),E=Object($["a"])(M,r,n,!1,null,"4d0db526",null);t["default"]=E.exports},a778:function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,".notebook__create-form[data-v-4d0db526]{margin-top:5.333vw}",""])},c382:function(e,t,o){"use strict";o("1cf5")}}]);
//# sourceMappingURL=chunk-ee0dc288.b9ba2f95.js.map